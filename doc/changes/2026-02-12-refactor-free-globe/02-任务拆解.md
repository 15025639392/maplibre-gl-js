# 02 任务拆解

## 1. 里程碑划分

- M1（方案冻结）：完成架构与接口评审、测试基线确认
- M2（核心实现）：完成 free-globe 核心旋转与跨极归一化
- M3（交互接入）：完成 handler/inertia/camera API 接入
- M4（验证收敛）：完成回归、性能、灰度预演
- M5（发布复盘）：完成灰度发布、回滚预案演练与文档回写

## 2. 任务清单

| 编号 | 任务 | 负责人 | 预计工时 | 依赖 | 状态 |
| --- | --- | --- | --- | --- | --- |
| T-01 | 输出 ADR 与详细数学推导（极点跨越归一化） | 地图内核（待定） | 1.5d | 无 | todo |
| T-02 | 实现 `FreeGlobeController` 与状态模型 | 地图内核（待定） | 3d | T-01 | todo |
| T-03 | 改造 `vertical_perspective_transform` 约束逻辑 | 地图内核（待定） | 2d | T-02 | todo |
| T-04 | 改造 `globe_transform` 以支持 mode 切换 | 地图内核（待定） | 1.5d | T-02 | todo |
| T-05 | 接入 `handler_manager` 与惯性动画链路 | 交互引擎（待定） | 2d | T-03,T-04 | todo |
| T-06 | 新增/补齐单元测试与交互回归测试 | QA + 开发（待定） | 2d | T-05 | todo |
| T-07 | 增加性能观测与压测脚本 | 性能专项（待定） | 1d | T-05 | todo |
| T-08 | 灰度发布、异常预案、回滚演练 | 发布负责人（待定） | 1d | T-06,T-07 | todo |
| T-09 | 回写主文档与复盘沉淀 | 文档负责人（待定） | 1d | T-08 | todo |

## 3. 交付物清单

- 代码交付：free-globe 核心实现 + 兼容开关 + 相关测试；
- 文档交付：ADR、变更包 `00~05`、主文档回写记录；
- 验证交付：功能回归结果、性能对比报告、灰度监控报表；
- 发布交付：发布记录与回滚演练记录。

## 4. 排期与关键节点

- 2026-02-13：M1 评审完成
- 2026-02-17：M2 核心代码提交
- 2026-02-19：M3 交互链路联调完成
- 2026-02-21：M4 测试与性能验证完成
- 2026-02-23：M5 灰度发布与复盘

## 5. 阻塞项与协同需求

- 需要明确 Globe 与 Mercator 过渡边界下的期望行为（产品/技术共同确认）；
- 需要 QA 提供极区场景专项用例（跨极、反向拖拽、长时惯性）；
- 需要性能环境支持中低端设备对比测试；
- 若涉及对外 API 暴露，需同步 SDK 文档窗口。

## 6. 每日/每周同步机制

- 每日站会：跟进 T-02~T-06 实施风险；
- 每两日技术同步：对齐数学模型与事件语义；
- 每周评审：里程碑检查、风险收敛、是否进入下一阶段；
- 发布前评审：仅当测试与回滚演练通过方可进入灰度。
