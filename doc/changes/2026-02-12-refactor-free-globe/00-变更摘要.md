# 00 变更摘要

## 1. 标题

Globe 模式跨越南北极自由旋转重构（free-globe）

## 2. 背景

当前 Globe 交互在接近南北极时存在“可视上接近极点但交互受限”的体验问题：

- 视角旋转过程中，中心纬度存在上限约束，导致极点附近无法连续穿越；
- 用户在拖拽/旋转时会感知到“卡边”或方向突变；
- 连续航线、全球轨迹回放等场景，跨极切换不自然。

该问题影响 Globe 模式核心卖点（全球连续浏览），属于高频体验缺陷与架构性限制叠加问题。

## 3. 目标

- 在 Globe 模式支持跨越南北极的连续旋转，不出现交互中断；
- 保证跨极前后相机运动连续（方向、速度、惯性）且可预测；
- 不破坏现有 Mercator 行为与既有业务接口；
- 为后续“自由环球漫游”类需求提供可扩展基础。

## 4. 范围

### 4.1 In Scope

- Globe 相机约束与旋转算法重构（跨极连续性）；
- 鼠标拖拽、触控旋转、惯性旋转在跨极场景的一致性处理；
- 相机状态归一化规则（经纬/姿态）与事件语义补充；
- 单元测试、交互回归测试、性能与稳定性验证；
- 文档与发布策略更新（含可控灰度）。

### 4.2 Out of Scope

- 新增 6DoF 完整飞行模式（自由 roll 控制）；
- 修改样式规范（Style Spec）或图层渲染协议；
- 非 Globe 投影下的交互模型重构；
- 地形数据源与瓦片生产链路改造。

## 5. 影响面

- 核心模块：`src/geo/projection/vertical_perspective_transform.ts`、`src/geo/projection/globe_transform.ts`；
- 交互链路：`src/ui/handler_manager.ts` 及旋转/拖拽相关 handler；
- 地图事件与 API：跨极状态事件、实验开关与配置；
- 测试资产：Globe 交互测试、回归快照与性能基线。

## 6. 风险等级

高（High）

- 原因：涉及相机数学模型与交互事件主链路，回归面广。

## 7. 预期收益

- 明显提升 Globe 全局浏览的连续性与专业感；
- 降低极区业务（航线、气象、轨迹）二次定制成本；
- 为后续高级相机能力（自动巡航、剧本化镜头）建立统一底座。

## 8. 关联任务/Issue/PR

- 需求单：`FREE-GLOBE-001`（待创建）
- 技术方案评审：`ADR-free-globe-rotation`（待创建）
- 开发 PR：待创建
